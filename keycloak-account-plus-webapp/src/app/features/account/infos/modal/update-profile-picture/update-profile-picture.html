<h2 mat-dialog-title>Modifiez votre photo de profil</h2>

<mat-dialog-content>

  <input
    #fileInput
    type="file"
    class="hidden"
    (change)="fileChangeEvent($event)"
  />

  <div class="w-full flex flex-row justify-around items-center gap-4 mb-4">
    <input
      disabled
      class="w-2/3"
      matInput
      [value]="`Fichier: ${fileName}` || ''"
      placeholder="Aucun fichier sélectionné"
      readonly/>

    <button
      matButton="outlined"
      class="w-1/3"
      type="button"
      (click)="openFileDialog()">
      Parcourir…
    </button>

  </div>

  @if (this.fileName) {
    <image-cropper
      class="mb-4"
      [imageChangedEvent]="imageChangedEvent"
      [maintainAspectRatio]="true"
      [aspectRatio]="1"
      [checkImageType]="true"
      format="png"
      (imageCropped)="imageCropped($event)"
      (imageLoaded)="imageLoaded($event)"
      (cropperReady)="cropperReady()"
      (loadImageFailed)="loadImageFailed()"
    ></image-cropper>
  }

</mat-dialog-content>
<mat-dialog-actions>
  <button (click)="cancel()" matButton="outlined">Annuler</button>
  <button mat-flat-button (click)="submit()">Téléverser
  </button>
</mat-dialog-actions>
